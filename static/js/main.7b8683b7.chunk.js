(this["webpackJsonptodo-courses"]=this["webpackJsonptodo-courses"]||[]).push([[0],{117:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n(12),r=n.n(i),o=n(47),c=n.n(o),s=n(58),l=n(34),h=n(35),u=n(11),d=n(54),j=n.n(d),b=new(function(){function t(){Object(l.a)(this,t),this.activeView="results",this.mobPanel=!1,this.categoryView="anime",Object(u.d)(this)}return Object(h.a)(t,[{key:"toggleMobPanel",value:function(t){this.mobPanel=t,console.log(this.mobPanel)}},{key:"setActiveCategory",value:function(){this.categoryView=g.category}},{key:"setCategoriesView",value:function(t){this.categoryView=t}},{key:"toggleActiveView",value:function(t){this.activeView=t}}]),t}()),p=new(function(){function t(){Object(l.a)(this,t),this.errorStatus=0,this.errorText="",this.isOpenError=!1,Object(u.d)(this)}return Object(h.a)(t,[{key:"toggleAlertError",value:function(t){this.isOpenError=t}},{key:"changeTextError",value:function(t){this.errorText=t}},{key:"changeStatusError",value:function(t){this.errorStatus=t}},{key:"catchingErrors",value:function(t){this.toggleAlertError(!0),this.changeStatusError(t.response.status),this.changeTextError(t.response.data.message)}}]),t}()),g=new(function(){function t(){var e=this;Object(l.a)(this,t),this.action="search",this.category="anime",this.content=null,this.data=[],this.topAnime=[],this.topCharacter=[],this.favorite=[],this.canIStartSearch=!0,this.loading=!1,Object(u.d)(this),this.startProgram(),this.getTop().then((function(){e.data=e.topAnime,b.setCategoriesView("top")}))}return Object(h.a)(t,[{key:"startProgram",value:function(){var t=localStorage.getItem("favoriteArr");null!==t&&(this.favorite=JSON.parse(t)),console.log(Object(u.h)(this.favorite))}},{key:"setCategory",value:function(t){switch(this.content=null,this.data=[],t){case"character":this.data=this.topCharacter,b.categoryView="top";break;case"anime":this.data=this.topAnime,b.categoryView="top";break;case"favorite":this.data=this.favorite,b.categoryView="favorite";break;default:console.error(t)}this.category=t,console.log(this.category)}},{key:"setContent",value:function(t){this.content=t,console.log(Object(u.h)(this.content))}},{key:"setFavorite",value:function(){var t=this;if(null!==this.content){var e=this.favorite.findIndex((function(e){var n;return e.mal_id==(null===(n=t.content)||void 0===n?void 0:n.mal_id)}));-1!==e?(this.content.isFavorite=!1,this.favorite.splice(e,1)):(this.content.isFavorite=!0,this.favorite.unshift(this.content))}}},{key:"getTop",value:function(){var t=Object(s.a)(c.a.mark((function t(){var e=this;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,j.a.get("https://api.jikan.moe/v3/top/anime").then((function(t){e.topAnime=t.data.top})).catch((function(t){return console.log(t.response)})).then((function(){e.loading=!1}));case 3:setTimeout((function(){j.a.get("https://api.jikan.moe/v3/top/characters").then((function(t){return e.topCharacter=t.data.top})).catch((function(t){return console.log(t.response)}))}),2e3);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"apiDelay4second",value:function(){var t=this;setTimeout((function(){t.canIStartSearch=!0}),4e3)}},{key:"startSearch",value:function(){var t=Object(s.a)(c.a.mark((function t(e){var n=this;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("\u041a\u043d\u043e\u043f\u043a\u0430 \u043d\u0430\u0436\u0430\u0442\u0430"),"favorite"!==this.category){t.next=3;break}return t.abrupt("return");case 3:if(this.canIStartSearch){t.next=5;break}return t.abrupt("return");case 5:return this.loading=!0,t.next=8,j.a.get("https://api.jikan.moe/v3/".concat(this.action,"/").concat(this.category,"?q=").concat(e,"&limit=5&page=1")).then((function(t){t.data.results.forEach((function(t){console.log(t),n.favorite.map((function(t){return t.mal_id})).includes(t.mal_id)?t.isFavorite=!0:t.isFavorite=!1})),n.data=t.data.results,console.log(Object(u.h)(n.data))})).catch((function(t){p.catchingErrors(t),console.log(t)})).then((function(){setTimeout((function(){n.loading=!1}),500)}));case 8:console.log("\u043e\u0442\u0432\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d"),this.canIStartSearch=!1,this.apiDelay4second();case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}()),f=n(15),x=n(151),m=n(164),v=n(166),O=n(172),y=n(165),w=n(169),k=n(154),F=n(152),N=n(155),C=n(156),S=n(157),D=n(75),A=n.n(D),E=n(2),T=Object(x.a)((function(t){return{wrapper:{height:"64px",display:"flex",background:"rgba(130, 188, 255, 1)"},toolbar:{}}})),V=function(){var t=T();return Object(E.jsx)(F.a,{position:"static",className:t.wrapper,color:"transparent",elevation:0,children:Object(E.jsx)(k.a,{children:Object(E.jsxs)(N.a,{className:t.toolbar,children:[Object(E.jsx)(w.a,{mdUp:!0,children:Object(E.jsx)(C.a,{onClick:function(){b.toggleMobPanel(!0)},children:Object(E.jsx)(A.a,{})})}),Object(E.jsx)(S.a,{variant:"h5",component:"h2",children:"SuperDuperAnime"})]})})})},I=n(81),W=n(79),P=n(170),_=n(76),B=n.n(_),U=n(158),L=n(119),z=Object(x.a)((function(t){return{button:{width:"100%","&:hover":{backgroundColor:"rgba(0, 0, 0, .35)"}},buttonActive:{backgroundColor:"rgba(0, 0, 0, .35)"}}})),H=Object(f.a)((function(t){var e=t.data,n=z();return Object(E.jsx)(L.a,{variant:"outlined",className:"".concat(n.button," ").concat(g.category===e.value?n.buttonActive:null),onClick:function(t){g.setCategory(e.value)},children:e.text})})),M=Object(x.a)((function(t){return{root:{width:"150px",margin:8,background:"linear-gradient(246.82deg, #FFCADC 0%, #C8FFFD 58.33%)",height:"calc(100vh - 96px)"},rootRow:{width:280},container:{display:"flex"},categories:{display:"flex",height:"100%",width:"100%",border:"none",flexDirection:"column"},categoriesRow:{flexDirection:"row"}}})),R=[{value:"favorite",text:"Favorite"},{value:"anime",text:"Anime"},{value:"character",text:"Characters"}],G=Object(f.a)((function(){var t=M(),e=R.map((function(t){return Object(E.jsx)(H,{data:t},t.value)}));return Object(E.jsx)(I.a,{className:t.root,children:Object(E.jsx)(U.a,{className:t.categories,children:e})})})),J=Object(x.a)({root:{display:"flex",position:"relative",width:244,height:64,cursor:"pointer",margin:"8px auto"},input:{marginLeft:2,flex:1},divider:{height:28,margin:4},label:{position:"absolute",top:2,left:8,fontSize:10,opacity:.7},iconButton:{}}),Y=Object(f.a)((function(){var t=J(),e=Object(a.useState)(""),n=Object(W.a)(e,2),i=n[0],r=n[1],o=function(){if(i.length<=3)return p.changeTextError("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 3 \u0431\u0443\u043a\u0432"),void p.toggleAlertError(!0);g.startSearch(i),b.setActiveCategory()};return Object(E.jsxs)(I.a,{component:"form",onSubmit:function(t){t.preventDefault(),o()},className:t.root,children:[Object(E.jsx)(S.a,{className:t.label,children:R.map((function(t){return t.value===g.category?t.text:null}))}),Object(E.jsx)(P.a,{value:i,onChange:function(t){r(t.target.value)},className:t.input,placeholder:"Start searching Anime",inputProps:{"aria-label":"search Anime"}}),Object(E.jsx)(C.a,{className:t.iconButton,"aria-label":"search",onClick:o,children:Object(E.jsx)(B.a,{})})]})})),q=n(159),K=n(160),Q=Object(x.a)({root:{display:"flex",position:"relative",width:244,background:"rgba(255,255,255,0.5)",height:64,cursor:"pointer",margin:"8px auto"},media:{border:"1px solid rgba(255,255,255,0.8)",width:56,height:56,borderRadius:"100%",margin:4},fav:{width:56,height:56}}),X=Object(f.a)((function(t){var e=t.img,n=t.favorite,a=t.textDescription,i=t.onClick,r=Q();return Object(E.jsxs)(q.a,{className:r.root,onClick:i,children:[Object(E.jsx)(K.a,{className:r.media,image:e,title:"Contemplative Reptile"}),a,Object(E.jsx)(v.a,{className:r.fav,children:n})]})})),Z=n(161),$=Object(x.a)({textWrapper:{width:144,height:64,display:"flex",flexDirection:"column",justifyContent:"space-evenly",overflow:"hidden",padding:0},title:{width:144,height:28,overflow:"hidden",textOverflow:"ellipsis",padding:"0 4px"},subtitle:{width:144,height:36,overflow:"hidden",textOverflow:"ellipsis",padding:"0 4px"},onlyTitle:{width:164,height:64,overflow:"hidden",textOverflow:"ellipsis",padding:"0 4px"}}),tt=function(t){var e=t.category,n=t.title,a=t.description,i=$(),r="anime"===e?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(S.a,{gutterBottom:!0,variant:"button",component:"h2",className:i.title,children:n}),Object(E.jsx)(S.a,{variant:"body2",color:"textSecondary",component:"p",className:i.subtitle,children:a})]}):Object(E.jsx)(S.a,{gutterBottom:!0,variant:"h5",component:"h2",className:i.onlyTitle,children:n});Z.a;return Object(E.jsx)(Z.a,{className:i.textWrapper,children:r})},et=n(53),nt=n.n(et);var at=function(t){var e=t.data,n=e.title||e.name,a=e.image_url,i="favorite"!==g.category&&e.isFavorite?Object(E.jsx)(nt.a,{style:{fontSize:54}}):null,r=Object(E.jsx)(tt,{description:e.synopsis,category:b.categoryView,title:n});return Object(E.jsx)(X,{textDescription:r,img:a,favorite:i,onClick:function(){g.setContent(e),b.toggleActiveView("content")}},e.mal_id)},it=Object(x.a)((function(t){return{root:{display:"flex",flexDirection:"column",width:"280px",justifyContent:"center",alignItems:"center",margin:8,height:"calc(100vh - 64px - 32px)",background:"linear-gradient(113.18deg, #FFCADC 0%, #C8FFFD 58.33%)"},cardsList:{position:"relative",flexGrow:1,width:"260px"},cardsListScroll:{position:"absolute",height:"calc(100vh - 64px - 128px)",width:"260px",overflowY:"auto"}}})),rt=Object(f.a)((function(){var t=it(),e=null===g.data?Object(E.jsx)("div",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"}):g.data.map((function(t){return Object(E.jsx)(at,{data:t},t.mal_id)})),n="Top";return R.forEach((function(t){return t.value===b.categoryView?n=t.text:null})),Object(E.jsx)(I.a,{className:t.root,children:Object(E.jsxs)(v.a,{className:t.cardsList,children:[Object(E.jsx)(Y,{}),Object(E.jsx)(v.a,{children:n}),Object(E.jsx)(v.a,{className:t.cardsListScroll,children:e})]})})})),ot=n(162),ct=n(77),st=n.n(ct),lt=Object(x.a)((function(t){return{root:{position:"absolute",width:"100%",maxWidth:"100%",height:"calc(100% - 32px)",margin:8,background:"linear-gradient(113.18deg, #FFD3E2 0%, #6FFFF9 100%)"},contentWrapper:{display:"flex",flexDirection:"column",justifyContent:"start",alignItems:"center",maxHeight:"calc(100% - 32px)",overflowY:"auto"},header:{display:"flex",background:"linear-gradient(113.18deg, #FFD3E2 0%, #6FFFF9 100%)",width:"100%",padding:4,alignItems:"center"},img:{height:"300px",float:"left",margin:8},title:{flexGrow:1,textAlign:"left",textOverflow:"ellipsis"},subtitle:{width:"100%"},fab:{minWidth:40,minHeight:40,maxWidth:40,maxHeight:40,margin:4}}})),ht=Object(f.a)((function(t){var e=t.title,n=t.prefixTitle,a=t.subtitle,i=t.prefixSubtitle,r=t.favoriteIcon,o=t.img,c=lt();return Object(E.jsx)(I.a,{className:c.root,children:Object(E.jsxs)(v.a,{className:c.contentWrapper,children:[Object(E.jsxs)(I.a,{className:c.header,children:[Object(E.jsx)(w.a,{mdUp:!0,smUp:!0,children:Object(E.jsx)(ot.a,{className:c.fab,color:"primary",onClick:function(){b.toggleActiveView("results")},children:Object(E.jsx)(st.a,{})})}),Object(E.jsx)(ot.a,{className:c.fab,onClick:function(){return g.setFavorite()},children:r}),Object(E.jsx)(S.a,{className:c.title,variant:"h4",component:"h2",children:e})]}),Object(E.jsxs)(S.a,{className:c.subtitle,variant:"body1",component:"p",children:[Object(E.jsx)("img",{className:c.img,alt:"#",src:o}),n,": ",e," ",Object(E.jsx)("br",{}),i,": ",a]})]})})})),ut=n(78),dt=n.n(ut),jt=n(163),bt=Object(x.a)((function(t){return{root:{position:"absolute",width:"100%",maxWidth:"100%",height:"calc(100% - 32px)",margin:8,background:"linear-gradient(113.18deg, #FFD3E2 0%, #6FFFF9 100%)"}}})),pt=function(){var t=bt();return Object(E.jsx)(v.a,{className:t.root})},gt=Object(f.a)((function(){g.content;var t="anime"===g.category?"Title":"Name",e="anime"===g.category?"Description":"AltName";return Object(E.jsx)(E.Fragment,{children:null===g.content?Object(E.jsx)(pt,{}):Object(E.jsx)(ht,{title:function(){if(null!==g.content)return g.content.title||g.content.name}(),prefixTitle:t,subtitle:function(){if(null!==g.content)return g.content.synopsis||g.content.alternative_names}(),prefixSubtitle:e,img:function(){if(null!==g.content)return g.content.image_url}(),favoriteIcon:null===g.content?Object(E.jsx)(jt.a,{}):g.content.isFavorite?Object(E.jsx)(nt.a,{}):Object(E.jsx)(dt.a,{})})})})),ft=n(167),xt=Object(x.a)((function(t){return{root:{width:"fit-content"},container:{background:"rgba(65, 94, 127, 1)",padding:"60px 8px",height:"100vh",display:"flex",alignItems:"stretch"}}})),mt=Object(f.a)((function(){var t=xt();return Object(E.jsx)(ft.a,{anchor:"left",open:b.mobPanel,onClose:function(){b.toggleMobPanel(!1)},onOpen:function(){b.toggleMobPanel(!0)},className:t.root,children:Object(E.jsx)(v.a,{className:t.container,children:Object(E.jsx)(w.a,{mdUp:!0,children:Object(E.jsx)(G,{})})})})})),vt=n(171),Ot=n(168),yt=Object(x.a)({root:{}}),wt=Object(f.a)((function(t){t.children,yt();return console.log(Object(u.h)(p.errorText)),Object(E.jsx)(vt.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:p.isOpenError,autoHideDuration:6e3,onClose:function(){p.isOpenError=!1},children:Object(E.jsx)(Ot.a,{severity:"error",children:p.errorText})})})),kt=Object(x.a)({root:{display:"flex",position:"relative",width:"100vw",height:"100vh",background:"linear-gradient(315deg, #FFDEE9 0%, #B5FFFC 100%)",flexDirection:"column"},container:{position:"relative",display:"flex",justifyContent:"center"},button:{display:"flex",flexDirection:"column",width:"100%"},contentWrapper:{position:"relative",flexGrow:1,height:"calc(100vh - 64px)",background:"transparent"},backdrop:{color:"rgba(0,0,0,0.3)"},loader:{position:"fixed",zIndex:999,top:"50%",left:"50%"}}),Ft=Object(f.a)((function(){var t=kt();return Object(E.jsxs)("div",{className:t.root,children:[Object(E.jsx)(m.a,{}),Object(E.jsx)(V,{}),g.loading?Object(E.jsxs)(v.a,{className:t.loader,children:[Object(E.jsx)(O.a,{className:t.backdrop,open:!0,children:Object(E.jsx)(y.a,{})})," "]}):null,Object(E.jsx)(w.a,{mdUp:!0,children:Object(E.jsx)(mt,{})}),Object(E.jsxs)(k.a,{maxWidth:"lg",className:t.container,children:[Object(E.jsx)(w.a,{smDown:!0,children:Object(E.jsx)(G,{})}),Object(E.jsx)(w.a,{xsDown:!0,children:Object(E.jsx)(rt,{})}),Object(E.jsx)(w.a,{smUp:!0,children:Object(E.jsx)(v.a,{className:t.contentWrapper,children:"content"===b.activeView?Object(E.jsx)(gt,{}):Object(E.jsx)(rt,{})})}),Object(E.jsx)(w.a,{xsDown:!0,children:Object(E.jsx)(v.a,{className:t.contentWrapper,children:Object(E.jsx)(gt,{})})})]}),Object(E.jsx)(wt,{})]})}));r.a.render(Object(E.jsx)(Ft,{}),document.getElementById("root"))}},[[117,1,2]]]);
//# sourceMappingURL=main.7b8683b7.chunk.js.map